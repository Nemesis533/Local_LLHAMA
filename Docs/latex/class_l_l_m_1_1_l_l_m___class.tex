\doxysection{LLM.\+LLM\+\_\+\+Class Class Reference}
\hypertarget{class_l_l_m_1_1_l_l_m___class}{}\label{class_l_l_m_1_1_l_l_m___class}\index{LLM.LLM\_Class@{LLM.LLM\_Class}}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_l_l_m_1_1_l_l_m___class_ad99ecea9b9f02700e04b8195eee159aa}{\+\_\+\+\_\+init\+\_\+\+\_\+}} (self, model\+\_\+path, model\+\_\+name, device, ha\+\_\+client, prompt\+\_\+guard\+\_\+model\+\_\+name, base\+\_\+prompt=None, reuse\+\_\+devices=True)
\item 
\mbox{\hyperlink{class_l_l_m_1_1_l_l_m___class_af208d916d00c477ba4beb3c8cf0ab476}{load\+\_\+model}} (self, use\+\_\+int8=False)
\item 
\mbox{\hyperlink{class_l_l_m_1_1_l_l_m___class_a9556665ec9818c5d6fef6ef0dea2a0f6}{build\+\_\+prompt}} (self, transcription)
\item 
\mbox{\hyperlink{class_l_l_m_1_1_l_l_m___class_a1d3fe8663350b6100933623b77cfc998}{parse\+\_\+with\+\_\+llm}} (self, transcription)
\end{DoxyCompactItemize}
\doxysubsubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{class_l_l_m_1_1_l_l_m___class_a48020c8b0b23060935de537ea6aca9c0}\label{class_l_l_m_1_1_l_l_m___class_a48020c8b0b23060935de537ea6aca9c0} 
{\bfseries model\+\_\+path} = model\+\_\+path
\item 
\Hypertarget{class_l_l_m_1_1_l_l_m___class_a250537c7fa51f5a93b4d34aac4cfd293}\label{class_l_l_m_1_1_l_l_m___class_a250537c7fa51f5a93b4d34aac4cfd293} 
{\bfseries model\+\_\+name} = model\+\_\+name
\item 
\Hypertarget{class_l_l_m_1_1_l_l_m___class_a9a8d16619e32abfdf93c2d65520b92d4}\label{class_l_l_m_1_1_l_l_m___class_a9a8d16619e32abfdf93c2d65520b92d4} 
{\bfseries prompt\+\_\+guard\+\_\+model\+\_\+name} = prompt\+\_\+guard\+\_\+model\+\_\+name
\item 
\Hypertarget{class_l_l_m_1_1_l_l_m___class_ad87497b81e7b33cdf213bbd2779aff76}\label{class_l_l_m_1_1_l_l_m___class_ad87497b81e7b33cdf213bbd2779aff76} 
{\bfseries device} = device
\item 
\Hypertarget{class_l_l_m_1_1_l_l_m___class_a7e2a727af071f90802c9722026095c51}\label{class_l_l_m_1_1_l_l_m___class_a7e2a727af071f90802c9722026095c51} 
{\bfseries model} = None
\item 
\Hypertarget{class_l_l_m_1_1_l_l_m___class_a8d275f154a53db6d050a2d51e8bf923e}\label{class_l_l_m_1_1_l_l_m___class_a8d275f154a53db6d050a2d51e8bf923e} 
{\bfseries tokenizer} = None
\item 
\Hypertarget{class_l_l_m_1_1_l_l_m___class_a2aa3ce3f8eebe12d7bcb408c9f678e4b}\label{class_l_l_m_1_1_l_l_m___class_a2aa3ce3f8eebe12d7bcb408c9f678e4b} 
{\bfseries accelerator} = Accelerator()
\item 
\Hypertarget{class_l_l_m_1_1_l_l_m___class_aaa3887891ebba19dfdddad59a11dd90c}\label{class_l_l_m_1_1_l_l_m___class_aaa3887891ebba19dfdddad59a11dd90c} 
\mbox{\hyperlink{class_h_a___interfacer_1_1_home_assistant_client}{Home\+Assistant\+Client}} {\bfseries ha\+\_\+client} = ha\+\_\+client
\item 
\Hypertarget{class_l_l_m_1_1_l_l_m___class_acefddc88dae5caf6c5705fabad1b9516}\label{class_l_l_m_1_1_l_l_m___class_acefddc88dae5caf6c5705fabad1b9516} 
str {\bfseries base\+\_\+prompt} = base\+\_\+prompt or "{}"{}
\item 
\Hypertarget{class_l_l_m_1_1_l_l_m___class_a37c1eb3500a1db875e21200362b29918}\label{class_l_l_m_1_1_l_l_m___class_a37c1eb3500a1db875e21200362b29918} 
{\bfseries prompt\+\_\+guard} = \mbox{\hyperlink{class_l_l_m_1_1_prompt_guard___class}{Prompt\+Guard\+\_\+\+Class}}(self.\+model\+\_\+path, self.\+prompt\+\_\+guard\+\_\+model\+\_\+name, device=self.\+device)
\item 
\Hypertarget{class_l_l_m_1_1_l_l_m___class_ad6f51055b2f603c98a4ba468e1d275ee}\label{class_l_l_m_1_1_l_l_m___class_ad6f51055b2f603c98a4ba468e1d275ee} 
str {\bfseries devices\+\_\+context} = "{}"{}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\begin{DoxyVerb}@brief A wrapper class for loading and interacting with a language model for smart home commands.
\end{DoxyVerb}
 

\label{doc-constructors}
\Hypertarget{class_l_l_m_1_1_l_l_m___class_doc-constructors}
\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{class_l_l_m_1_1_l_l_m___class_ad99ecea9b9f02700e04b8195eee159aa}\index{LLM.LLM\_Class@{LLM.LLM\_Class}!\_\_init\_\_@{\_\_init\_\_}}
\index{\_\_init\_\_@{\_\_init\_\_}!LLM.LLM\_Class@{LLM.LLM\_Class}}
\doxysubsubsection{\texorpdfstring{\_\_init\_\_()}{\_\_init\_\_()}}
{\footnotesize\ttfamily \label{class_l_l_m_1_1_l_l_m___class_ad99ecea9b9f02700e04b8195eee159aa} 
LLM.\+LLM\+\_\+\+Class.\+\_\+\+\_\+init\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self}{, }\item[{}]{model\+\_\+path}{, }\item[{}]{model\+\_\+name}{, }\item[{}]{device}{, }\item[{}]{ha\+\_\+client}{, }\item[{}]{prompt\+\_\+guard\+\_\+model\+\_\+name}{, }\item[{}]{base\+\_\+prompt}{ = {\ttfamily None}, }\item[{}]{reuse\+\_\+devices}{ = {\ttfamily True}}\end{DoxyParamCaption})}

\begin{DoxyVerb}@param model_path Path where the model files are stored or cached.
@param model_name Name of the model to load.
@param device Device to run the model on (e.g., 'cuda' or 'cpu').
@param ha_client HomeAssistantClient instance for smart home context.
@param prompt_guard_model_name Name of the model used for prompt safety checks.
@param base_prompt Optional system prompt to prepend before user input.
@param reuse_devices Flag to reuse device context prompt or regenerate each time.
\end{DoxyVerb}
 

\label{doc-func-members}
\Hypertarget{class_l_l_m_1_1_l_l_m___class_doc-func-members}
\doxysubsection{Member Function Documentation}
\Hypertarget{class_l_l_m_1_1_l_l_m___class_a9556665ec9818c5d6fef6ef0dea2a0f6}\index{LLM.LLM\_Class@{LLM.LLM\_Class}!build\_prompt@{build\_prompt}}
\index{build\_prompt@{build\_prompt}!LLM.LLM\_Class@{LLM.LLM\_Class}}
\doxysubsubsection{\texorpdfstring{build\_prompt()}{build\_prompt()}}
{\footnotesize\ttfamily \label{class_l_l_m_1_1_l_l_m___class_a9556665ec9818c5d6fef6ef0dea2a0f6} 
LLM.\+LLM\+\_\+\+Class.\+build\+\_\+prompt (\begin{DoxyParamCaption}\item[{}]{self}{, }\item[{}]{transcription}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}@brief Build the complete prompt including system instructions and user transcription.
@param transcription User speech input as a string.
@return Formatted prompt string ready for LLM input.
\end{DoxyVerb}
 \Hypertarget{class_l_l_m_1_1_l_l_m___class_af208d916d00c477ba4beb3c8cf0ab476}\index{LLM.LLM\_Class@{LLM.LLM\_Class}!load\_model@{load\_model}}
\index{load\_model@{load\_model}!LLM.LLM\_Class@{LLM.LLM\_Class}}
\doxysubsubsection{\texorpdfstring{load\_model()}{load\_model()}}
{\footnotesize\ttfamily \label{class_l_l_m_1_1_l_l_m___class_af208d916d00c477ba4beb3c8cf0ab476} 
LLM.\+LLM\+\_\+\+Class.\+load\+\_\+model (\begin{DoxyParamCaption}\item[{}]{self}{, }\item[{}]{use\+\_\+int8}{ = {\ttfamily False}}\end{DoxyParamCaption})}

\begin{DoxyVerb}@brief Load the language model with optional int8 quantization or fp16 precision.
@param use_int8 If True, load the model using 8-bit quantization.
@return True if model loaded successfully, False otherwise.
\end{DoxyVerb}
 \Hypertarget{class_l_l_m_1_1_l_l_m___class_a1d3fe8663350b6100933623b77cfc998}\index{LLM.LLM\_Class@{LLM.LLM\_Class}!parse\_with\_llm@{parse\_with\_llm}}
\index{parse\_with\_llm@{parse\_with\_llm}!LLM.LLM\_Class@{LLM.LLM\_Class}}
\doxysubsubsection{\texorpdfstring{parse\_with\_llm()}{parse\_with\_llm()}}
{\footnotesize\ttfamily \label{class_l_l_m_1_1_l_l_m___class_a1d3fe8663350b6100933623b77cfc998} 
LLM.\+LLM\+\_\+\+Class.\+parse\+\_\+with\+\_\+llm (\begin{DoxyParamCaption}\item[{}]{self}{, }\item[{}]{transcription}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}@brief Parse user transcription into structured JSON commands using the language model.
@param transcription User input string.
@return Parsed JSON object containing commands extracted from input.
\end{DoxyVerb}
 

The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
LLM.\+py\end{DoxyCompactItemize}
